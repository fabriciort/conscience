(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7678,(e,t,a)=>{t.exports=e.r(17846)},66271,e=>{"use strict";var t=e.i(7765),a=e.i(10427),r=e.i(20755),s=e.i(7678);function l(){let e=(0,r.createClient)(),l=(0,s.useRouter)(),[o,i]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null),[m,n]=(0,a.useState)({full_name:"",email:""});(0,a.useEffect)(()=>{x()},[]);let x=async()=>{let{data:{user:t}}=await e.auth.getUser();if(t){let{data:a}=await e.from("profiles").select("*").eq("id",t.id).single();a&&(c(a),n({full_name:a.full_name,email:a.email}))}},u=async t=>{t.preventDefault(),i(!0);let{data:{user:a}}=await e.auth.getUser();if(a){let{error:t}=await e.from("profiles").update({full_name:m.full_name}).eq("id",a.id);t?alert(`Erro: ${t.message}`):(alert("✅ Perfil atualizado com sucesso!"),x())}i(!1)},p=async()=>{await e.auth.signOut(),l.push("/")};return d?(0,t.jsxs)("div",{className:"mx-auto max-w-3xl px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-[color:var(--text-primary)]",children:"Configurações"}),(0,t.jsx)("p",{className:"mt-2 text-[color:var(--text-muted)]",children:"Gerencie suas informações pessoais e preferências"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"rounded-lg border border-[color:var(--border-soft)] bg-white p-6",children:[(0,t.jsx)("h2",{className:"mb-4 text-lg font-semibold text-[color:var(--text-primary)]",children:"Informações do Perfil"}),(0,t.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-[color:var(--text-primary)]",children:"Nome Completo"}),(0,t.jsx)("input",{type:"text",value:m.full_name,onChange:e=>n({...m,full_name:e.target.value}),className:"mt-1 w-full rounded-lg border border-[color:var(--border-soft)] bg-white px-4 py-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-[color:var(--text-primary)]",children:"Email"}),(0,t.jsx)("input",{type:"email",value:m.email,disabled:!0,className:"mt-1 w-full rounded-lg border border-[color:var(--border-soft)] bg-gray-100 px-4 py-2 text-gray-500"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-[color:var(--text-muted)]",children:"O email não pode ser alterado"})]}),(0,t.jsx)("div",{className:"flex gap-3",children:(0,t.jsx)("button",{type:"submit",disabled:o,className:"rounded-full bg-[color:var(--coral)] px-6 py-2 font-semibold text-white hover:bg-[color:var(--coral)]/90 disabled:opacity-50",children:o?"Salvando...":"Salvar Alterações"})})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-[color:var(--border-soft)] bg-white p-6",children:[(0,t.jsx)("h2",{className:"mb-4 text-lg font-semibold text-[color:var(--text-primary)]",children:"Informações da Conta"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-[color:var(--text-muted)]",children:"Tipo de Conta"}),(0,t.jsx)("p",{className:"mt-1 text-lg font-semibold text-[color:var(--text-primary)]",children:"researcher"===d.role?"Pesquisador":"Estudante/Visitante"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-[color:var(--text-muted)]",children:"Plano Atual"}),(0,t.jsx)("p",{className:"mt-1 text-lg font-semibold text-[color:var(--text-primary)]",children:d.subscription_tier.charAt(0).toUpperCase()+d.subscription_tier.slice(1)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-[color:var(--text-muted)]",children:"Membro desde"}),(0,t.jsx)("p",{className:"mt-1 text-lg font-semibold text-[color:var(--text-primary)]",children:new Date(d.created_at).toLocaleDateString("pt-BR")})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-red-200 bg-red-50 p-6",children:[(0,t.jsx)("h2",{className:"mb-4 text-lg font-semibold text-red-900",children:"Zona de Perigo"}),(0,t.jsx)("button",{onClick:p,className:"rounded-full bg-red-600 px-6 py-2 font-semibold text-white hover:bg-red-700",children:"Sair da Conta"})]})]})]}):(0,t.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"⏳"}),(0,t.jsx)("p",{children:"Carregando..."})]})})}e.s(["default",()=>l])}]);