(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7678,(e,r,o)=>{r.exports=e.r(17846)},59341,e=>{"use strict";var r=e.i(7765),o=e.i(10427),t=e.i(20755),l=e.i(7678);function a(){let e=(0,l.useRouter)(),a=(0,t.createClient)(),[i,s]=(0,o.useState)({title:"",description:"",video_url:"",thumbnail_url:"",required_tier:"free",tags:"",published:!1}),[c,n]=(0,o.useState)(!1),[d,u]=(0,o.useState)(""),b=async r=>{r.preventDefault(),n(!0),u("");try{let{data:{user:r}}=await a.auth.getUser();if(!r)throw Error("Not authenticated");let o=i.tags.split(",").map(e=>e.trim()).filter(e=>e.length>0),{error:t}=await a.from("videos").insert({researcher_id:r.id,title:i.title,description:i.description||null,video_url:i.video_url,thumbnail_url:i.thumbnail_url||null,required_tier:i.required_tier,tags:o.length>0?o:null,published:i.published,published_at:i.published?new Date().toISOString():null});if(t)throw t;e.push("/studio/videos")}catch(e){u(e.message),n(!1)}};return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-[color:var(--text-primary)] mb-2",children:"Create New Video"}),(0,r.jsx)("p",{className:"text-[color:var(--text-secondary)]",children:"Add a new video to your content library"})]}),d&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500 text-sm",children:d}),(0,r.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-[color:var(--surface)] rounded-xl border border-[color:var(--border)] p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-[color:var(--text-primary)] mb-2",children:"Title *"}),(0,r.jsx)("input",{type:"text",value:i.title,onChange:e=>s({...i,title:e.target.value}),required:!0,className:"w-full px-4 py-3 bg-[color:var(--background)] border border-[color:var(--border)] rounded-lg text-[color:var(--text-primary)] placeholder:text-[color:var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[color:var(--primary)] transition-colors",placeholder:"Enter video title"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-[color:var(--text-primary)] mb-2",children:"Description"}),(0,r.jsx)("textarea",{value:i.description,onChange:e=>s({...i,description:e.target.value}),rows:4,className:"w-full px-4 py-3 bg-[color:var(--background)] border border-[color:var(--border)] rounded-lg text-[color:var(--text-primary)] placeholder:text-[color:var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[color:var(--primary)] transition-colors resize-none",placeholder:"Brief description of the video content"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-[color:var(--text-primary)] mb-2",children:"Video URL * (YouTube/Vimeo)"}),(0,r.jsx)("input",{type:"url",value:i.video_url,onChange:e=>s({...i,video_url:e.target.value}),required:!0,className:"w-full px-4 py-3 bg-[color:var(--background)] border border-[color:var(--border)] rounded-lg text-[color:var(--text-primary)] placeholder:text-[color:var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[color:var(--primary)] transition-colors",placeholder:"https://youtube.com/watch?v=..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-[color:var(--text-primary)] mb-2",children:"Thumbnail URL"}),(0,r.jsx)("input",{type:"url",value:i.thumbnail_url,onChange:e=>s({...i,thumbnail_url:e.target.value}),className:"w-full px-4 py-3 bg-[color:var(--background)] border border-[color:var(--border)] rounded-lg text-[color:var(--text-primary)] placeholder:text-[color:var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[color:var(--primary)] transition-colors",placeholder:"https://example.com/thumbnail.jpg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-[color:var(--text-primary)] mb-2",children:"Required Tier *"}),(0,r.jsxs)("select",{value:i.required_tier,onChange:e=>s({...i,required_tier:e.target.value}),className:"w-full px-4 py-3 bg-[color:var(--background)] border border-[color:var(--border)] rounded-lg text-[color:var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[color:var(--primary)] transition-colors",children:[(0,r.jsx)("option",{value:"free",children:"Free"}),(0,r.jsx)("option",{value:"essential",children:"Essential"}),(0,r.jsx)("option",{value:"advanced",children:"Advanced"}),(0,r.jsx)("option",{value:"corporate",children:"Corporate"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-[color:var(--text-primary)] mb-2",children:"Tags (comma-separated)"}),(0,r.jsx)("input",{type:"text",value:i.tags,onChange:e=>s({...i,tags:e.target.value}),className:"w-full px-4 py-3 bg-[color:var(--background)] border border-[color:var(--border)] rounded-lg text-[color:var(--text-primary)] placeholder:text-[color:var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[color:var(--primary)] transition-colors",placeholder:"tutorial, beginner, python"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"published",checked:i.published,onChange:e=>s({...i,published:e.target.checked}),className:"w-5 h-5 rounded border-[color:var(--border)] bg-[color:var(--background)] text-[color:var(--primary)] focus:ring-2 focus:ring-[color:var(--primary)] focus:ring-offset-0"}),(0,r.jsx)("label",{htmlFor:"published",className:"text-sm font-medium text-[color:var(--text-primary)] cursor-pointer",children:"Publish immediately"})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{type:"submit",disabled:c,className:"flex-1 px-6 py-3 bg-gradient-to-r from-[color:var(--primary)] to-[color:var(--accent)] text-white font-semibold rounded-lg hover:opacity-90 disabled:opacity-50 transition-opacity",children:c?"Creating...":"Create Video"}),(0,r.jsx)("button",{type:"button",onClick:()=>e.back(),className:"px-6 py-3 bg-[color:var(--surface)] border border-[color:var(--border)] text-[color:var(--text-primary)] font-semibold rounded-lg hover:bg-[color:var(--surface-hover)] transition-colors",children:"Cancel"})]})]})]})}e.s(["default",()=>a])}]);