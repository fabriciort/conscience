{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/fabriciort/Developer/conscience/app/platform/settings/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { createClient } from '@/lib/supabase/client';\nimport { useRouter } from 'next/navigation';\n\nexport default function SettingsPage() {\n  const supabase = createClient();\n  const router = useRouter();\n  \n  const [isLoading, setIsLoading] = useState(false);\n  const [profile, setProfile] = useState<any>(null);\n  const [formData, setFormData] = useState({\n    full_name: '',\n    email: '',\n  });\n\n  useEffect(() => {\n    loadProfile();\n  }, []);\n\n  const loadProfile = async () => {\n    const { data: { user } } = await supabase.auth.getUser();\n    \n    if (user) {\n      const { data: profileData } = await supabase\n        .from('profiles')\n        .select('*')\n        .eq('id', user.id)\n        .single();\n\n      if (profileData) {\n        setProfile(profileData);\n        setFormData({\n          full_name: profileData.full_name,\n          email: profileData.email,\n        });\n      }\n    }\n  };\n\n  const handleUpdateProfile = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    const { data: { user } } = await supabase.auth.getUser();\n\n    if (user) {\n      const { error } = await supabase\n        .from('profiles')\n        .update({\n          full_name: formData.full_name,\n        })\n        .eq('id', user.id);\n\n      if (error) {\n        alert(`Erro: ${error.message}`);\n      } else {\n        alert('✅ Perfil atualizado com sucesso!');\n        loadProfile();\n      }\n    }\n\n    setIsLoading(false);\n  };\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n    router.push('/');\n  };\n\n  if (!profile) {\n    return (\n      <div className=\"flex items-center justify-center p-12\">\n        <div className=\"text-center\">\n          <div className=\"text-4xl mb-4\">⏳</div>\n          <p>Carregando...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"mx-auto max-w-3xl px-4 py-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-[color:var(--text-primary)]\">\n          Configurações\n        </h1>\n        <p className=\"mt-2 text-[color:var(--text-muted)]\">\n          Gerencie suas informações pessoais e preferências\n        </p>\n      </div>\n\n      {/* Profile Info */}\n      <div className=\"space-y-6\">\n        <div className=\"rounded-lg border border-[color:var(--border-soft)] bg-white p-6\">\n          <h2 className=\"mb-4 text-lg font-semibold text-[color:var(--text-primary)]\">\n            Informações do Perfil\n          </h2>\n\n          <form onSubmit={handleUpdateProfile} className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-[color:var(--text-primary)]\">\n                Nome Completo\n              </label>\n              <input\n                type=\"text\"\n                value={formData.full_name}\n                onChange={(e) => setFormData({ ...formData, full_name: e.target.value })}\n                className=\"mt-1 w-full rounded-lg border border-[color:var(--border-soft)] bg-white px-4 py-2\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-[color:var(--text-primary)]\">\n                Email\n              </label>\n              <input\n                type=\"email\"\n                value={formData.email}\n                disabled\n                className=\"mt-1 w-full rounded-lg border border-[color:var(--border-soft)] bg-gray-100 px-4 py-2 text-gray-500\"\n              />\n              <p className=\"mt-1 text-xs text-[color:var(--text-muted)]\">\n                O email não pode ser alterado\n              </p>\n            </div>\n\n            <div className=\"flex gap-3\">\n              <button\n                type=\"submit\"\n                disabled={isLoading}\n                className=\"rounded-full bg-[color:var(--coral)] px-6 py-2 font-semibold text-white hover:bg-[color:var(--coral)]/90 disabled:opacity-50\"\n              >\n                {isLoading ? 'Salvando...' : 'Salvar Alterações'}\n              </button>\n            </div>\n          </form>\n        </div>\n\n        {/* Account Info */}\n        <div className=\"rounded-lg border border-[color:var(--border-soft)] bg-white p-6\">\n          <h2 className=\"mb-4 text-lg font-semibold text-[color:var(--text-primary)]\">\n            Informações da Conta\n          </h2>\n\n          <div className=\"space-y-4\">\n            <div>\n              <p className=\"text-sm font-medium text-[color:var(--text-muted)]\">\n                Tipo de Conta\n              </p>\n              <p className=\"mt-1 text-lg font-semibold text-[color:var(--text-primary)]\">\n                {profile.role === 'researcher' ? 'Pesquisador' : 'Estudante/Visitante'}\n              </p>\n            </div>\n\n            <div>\n              <p className=\"text-sm font-medium text-[color:var(--text-muted)]\">\n                Plano Atual\n              </p>\n              <p className=\"mt-1 text-lg font-semibold text-[color:var(--text-primary)]\">\n                {profile.subscription_tier.charAt(0).toUpperCase() + profile.subscription_tier.slice(1)}\n              </p>\n            </div>\n\n            <div>\n              <p className=\"text-sm font-medium text-[color:var(--text-muted)]\">\n                Membro desde\n              </p>\n              <p className=\"mt-1 text-lg font-semibold text-[color:var(--text-primary)]\">\n                {new Date(profile.created_at).toLocaleDateString('pt-BR')}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Danger Zone */}\n        <div className=\"rounded-lg border border-red-200 bg-red-50 p-6\">\n          <h2 className=\"mb-4 text-lg font-semibold text-red-900\">\n            Zona de Perigo\n          </h2>\n\n          <button\n            onClick={handleLogout}\n            className=\"rounded-full bg-red-600 px-6 py-2 font-semibold text-white hover:bg-red-700\"\n          >\n            Sair da Conta\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 389, "column": 0}, "map": {"version":3,"sources":["file:///home/fabriciort/Developer/conscience/node_modules/.pnpm/next%4016.0.2_%40babel%2Bcore%407.28.5_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}