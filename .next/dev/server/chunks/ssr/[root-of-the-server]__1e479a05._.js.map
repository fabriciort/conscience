{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///home/fabriciort/Developer/conscience/app/platform/researchers/page.tsx"],"sourcesContent":["import { createClient } from '@/lib/supabase/server';\nimport Link from 'next/link';\nimport type { Profile } from '@/lib/supabase/types';\n\ninterface ResearcherWithProfile {\n  user_id: string;\n  bio: string | null;\n  expertise: string[] | null;\n  institution: string | null;\n  profile: Profile;\n  video_count?: number;\n  post_count?: number;\n}\n\nexport default async function ResearchersListPage() {\n  const supabase = await createClient();\n\n  // Get all approved researchers with their profiles\n  const { data: researchers } = await supabase\n    .from('researcher_profiles')\n    .select(`\n      user_id,\n      bio,\n      expertise,\n      institution,\n      profile:profiles!user_id (\n        id,\n        full_name,\n        avatar_url,\n        email\n      )\n    `)\n    .eq('verification_status', 'approved');\n\n  // Get content counts for each researcher\n  const researchersWithCounts = await Promise.all(\n    (researchers || []).map(async (researcher) => {\n      const [videosResult, postsResult] = await Promise.all([\n        supabase\n          .from('videos')\n          .select('id', { count: 'exact', head: true })\n          .eq('researcher_id', researcher.user_id)\n          .eq('published', true),\n        supabase\n          .from('posts')\n          .select('id', { count: 'exact', head: true })\n          .eq('researcher_id', researcher.user_id)\n          .eq('published', true),\n      ]);\n\n      return {\n        ...researcher,\n        video_count: videosResult.count || 0,\n        post_count: postsResult.count || 0,\n      };\n    })\n  );\n\n  return (\n    <div className=\"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-[color:var(--text-primary)]\">\n          Nossos Pesquisadores\n        </h1>\n        <p className=\"mt-2 text-[color:var(--text-muted)]\">\n          Conhe√ßa os especialistas que compartilham conhecimento na plataforma\n        </p>\n      </div>\n\n      {/* Researchers Grid */}\n      <div className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n        {researchersWithCounts.map((researcher) => (\n          <ResearcherCard key={researcher.user_id} researcher={researcher} />\n        ))}\n      </div>\n\n      {researchersWithCounts.length === 0 && (\n        <div className=\"rounded-lg border border-dashed border-[color:var(--border-soft)] p-12 text-center\">\n          <p className=\"text-lg text-[color:var(--text-muted)]\">\n            Nenhum pesquisador dispon√≠vel no momento\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction ResearcherCard({ researcher }: { researcher: ResearcherWithProfile }) {\n  const profile = researcher.profile as Profile;\n\n  return (\n    <Link\n      href={`/platform/researchers/${researcher.user_id}`}\n      className=\"group rounded-lg border border-[color:var(--border-soft)] bg-white p-6 transition hover:shadow-lg\"\n    >\n      {/* Avatar & Name */}\n      <div className=\"flex items-start gap-4\">\n        <div className=\"flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-full bg-[color:var(--coral)] text-2xl font-semibold text-white\">\n          {profile.full_name.charAt(0).toUpperCase()}\n        </div>\n        <div className=\"flex-1\">\n          <h3 className=\"font-semibold text-[color:var(--text-primary)] group-hover:text-[color:var(--coral)]\">\n            {profile.full_name}\n          </h3>\n          {researcher.institution && (\n            <p className=\"text-sm text-[color:var(--text-muted)]\">\n              {researcher.institution}\n            </p>\n          )}\n        </div>\n      </div>\n\n      {/* Bio */}\n      {researcher.bio && (\n        <p className=\"mt-4 text-sm text-[color:var(--text-muted)] line-clamp-3\">\n          {researcher.bio}\n        </p>\n      )}\n\n      {/* Expertise */}\n      {researcher.expertise && researcher.expertise.length > 0 && (\n        <div className=\"mt-4 flex flex-wrap gap-2\">\n          {researcher.expertise.slice(0, 3).map((skill) => (\n            <span\n              key={skill}\n              className=\"rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-700\"\n            >\n              {skill}\n            </span>\n          ))}\n          {researcher.expertise.length > 3 && (\n            <span className=\"rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-700\">\n              +{researcher.expertise.length - 3}\n            </span>\n          )}\n        </div>\n      )}\n\n      {/* Stats */}\n      <div className=\"mt-4 flex items-center gap-4 border-t border-[color:var(--border-soft)] pt-4 text-sm text-[color:var(--text-muted)]\">\n        <span>üé¨ {researcher.video_count} v√≠deos</span>\n        <span>üìù {researcher.post_count} posts</span>\n      </div>\n\n      <div className=\"mt-4 flex items-center text-sm font-medium text-[color:var(--coral)]\">\n        Ver perfil completo ‚Üí\n      </div>\n    </Link>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAae,eAAe;IAC5B,MAAM,WAAW,MAAM,IAAA,yIAAY;IAEnC,mDAAmD;IACnD,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,SACjC,IAAI,CAAC,uBACL,MAAM,CAAC,CAAC;;;;;;;;;;;IAWT,CAAC,EACA,EAAE,CAAC,uBAAuB;IAE7B,yCAAyC;IACzC,MAAM,wBAAwB,MAAM,QAAQ,GAAG,CAC7C,CAAC,eAAe,EAAE,EAAE,GAAG,CAAC,OAAO;QAC7B,MAAM,CAAC,cAAc,YAAY,GAAG,MAAM,QAAQ,GAAG,CAAC;YACpD,SACG,IAAI,CAAC,UACL,MAAM,CAAC,MAAM;gBAAE,OAAO;gBAAS,MAAM;YAAK,GAC1C,EAAE,CAAC,iBAAiB,WAAW,OAAO,EACtC,EAAE,CAAC,aAAa;YACnB,SACG,IAAI,CAAC,SACL,MAAM,CAAC,MAAM;gBAAE,OAAO;gBAAS,MAAM;YAAK,GAC1C,EAAE,CAAC,iBAAiB,WAAW,OAAO,EACtC,EAAE,CAAC,aAAa;SACpB;QAED,OAAO;YACL,GAAG,UAAU;YACb,aAAa,aAAa,KAAK,IAAI;YACnC,YAAY,YAAY,KAAK,IAAI;QACnC;IACF;IAGF,qBACE,+YAAC;QAAI,WAAU;;0BAEb,+YAAC;gBAAI,WAAU;;kCACb,+YAAC;wBAAG,WAAU;kCAAsD;;;;;;kCAGpE,+YAAC;wBAAE,WAAU;kCAAsC;;;;;;;;;;;;0BAMrD,+YAAC;gBAAI,WAAU;0BACZ,sBAAsB,GAAG,CAAC,CAAC,2BAC1B,+YAAC;wBAAwC,YAAY;uBAAhC,WAAW,OAAO;;;;;;;;;;YAI1C,sBAAsB,MAAM,KAAK,mBAChC,+YAAC;gBAAI,WAAU;0BACb,cAAA,+YAAC;oBAAE,WAAU;8BAAyC;;;;;;;;;;;;;;;;;AAOhE;AAEA,SAAS,eAAe,EAAE,UAAU,EAAyC;IAC3E,MAAM,UAAU,WAAW,OAAO;IAElC,qBACE,+YAAC,2VAAI;QACH,MAAM,CAAC,sBAAsB,EAAE,WAAW,OAAO,EAAE;QACnD,WAAU;;0BAGV,+YAAC;gBAAI,WAAU;;kCACb,+YAAC;wBAAI,WAAU;kCACZ,QAAQ,SAAS,CAAC,MAAM,CAAC,GAAG,WAAW;;;;;;kCAE1C,+YAAC;wBAAI,WAAU;;0CACb,+YAAC;gCAAG,WAAU;0CACX,QAAQ,SAAS;;;;;;4BAEnB,WAAW,WAAW,kBACrB,+YAAC;gCAAE,WAAU;0CACV,WAAW,WAAW;;;;;;;;;;;;;;;;;;YAO9B,WAAW,GAAG,kBACb,+YAAC;gBAAE,WAAU;0BACV,WAAW,GAAG;;;;;;YAKlB,WAAW,SAAS,IAAI,WAAW,SAAS,CAAC,MAAM,GAAG,mBACrD,+YAAC;gBAAI,WAAU;;oBACZ,WAAW,SAAS,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,sBACrC,+YAAC;4BAEC,WAAU;sCAET;2BAHI;;;;;oBAMR,WAAW,SAAS,CAAC,MAAM,GAAG,mBAC7B,+YAAC;wBAAK,WAAU;;4BAAuE;4BACnF,WAAW,SAAS,CAAC,MAAM,GAAG;;;;;;;;;;;;;0BAOxC,+YAAC;gBAAI,WAAU;;kCACb,+YAAC;;4BAAK;4BAAI,WAAW,WAAW;4BAAC;;;;;;;kCACjC,+YAAC;;4BAAK;4BAAI,WAAW,UAAU;4BAAC;;;;;;;;;;;;;0BAGlC,+YAAC;gBAAI,WAAU;0BAAuE;;;;;;;;;;;;AAK5F","debugId":null}}]
}