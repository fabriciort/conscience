{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///home/fabriciort/Developer/conscience/components/layout/HeaderDynamic.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useMemo, useState } from 'react';\nimport Link from 'next/link';\nimport { createClient } from '@/lib/supabase/client';\nimport { useRouter } from 'next/navigation';\nimport type { User } from '@supabase/supabase-js';\nimport type { Profile } from '@/lib/supabase/types';\n\nconst navigation = [\n  { label: 'Inspiração', href: '/#inspiration' },\n  { label: 'Tech', href: '/#tech' },\n  { label: 'Experts', href: '/#experts' },\n  { label: 'Aprender', href: '/#learn' },\n  { label: 'Operações', href: '/#operations' },\n];\n\nexport const HeaderDynamic = () => {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [user, setUser] = useState<User | null>(null);\n  const [profile, setProfile] = useState<Profile | null>(null);\n  const router = useRouter();\n  const supabase = useMemo(() => createClient(), []);\n\n  useEffect(() => {\n    const loadProfile = async (id: string) => {\n      const { data: profileData } = await supabase\n        .from('profiles')\n        .select('*')\n        .eq('id', id)\n        .single();\n      setProfile(profileData as Profile);\n    };\n\n    const loadUser = async () => {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser();\n      setUser(user);\n      if (user) {\n        await loadProfile(user.id);\n      }\n    };\n\n    loadUser();\n\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange(async (_event, session) => {\n      const currentUser = session?.user ?? null;\n      setUser(currentUser);\n      if (currentUser) {\n        await loadProfile(currentUser.id);\n      } else {\n        setProfile(null);\n      }\n    });\n\n    return () => subscription.unsubscribe();\n  }, [supabase]);\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n    setIsMenuOpen(false);\n    router.push('/');\n  };\n\n  const getDashboardLink = () => {\n    if (profile?.role === 'researcher' || profile?.role === 'admin') {\n      return '/studio/dashboard';\n    }\n    return '/platform/feed';\n  };\n\n  const editionLink = '/#newsletter';\n\n  return (\n    <header className=\"sticky top-0 z-50 border-b border-white/10 bg-black/70 backdrop-blur-xl\">\n      <div className=\"mx-auto flex h-16 max-w-6xl items-center justify-between px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center gap-6\">\n          <Link\n            href=\"/\"\n            className=\"text-lg font-semibold uppercase tracking-[0.35em] text-white\"\n          >\n            The Column\n          </Link>\n          <nav className=\"hidden items-center gap-1 md:flex\">\n            {navigation.map((item) => (\n              <Link\n                key={item.href}\n                href={item.href}\n                className=\"rounded-full px-3 py-2 text-sm font-medium text-white/70 transition hover:bg-white/5 hover:text-white\"\n              >\n                {item.label}\n              </Link>\n            ))}\n          </nav>\n        </div>\n\n        <div className=\"hidden items-center gap-3 md:flex\">\n          <Link\n            href={editionLink}\n            className=\"rounded-full border border-white/20 px-4 py-2 text-xs font-semibold uppercase tracking-[0.2em] text-white/70 transition hover:border-white/50 hover:text-white\"\n          >\n            Edição Atual\n          </Link>\n\n          {user ? (\n            <>\n              <Link\n                href={getDashboardLink()}\n                className=\"rounded-full bg-white px-5 py-2 text-sm font-semibold text-black transition hover:-translate-y-0.5 hover:bg-white/90\"\n              >\n                Acessar {profile?.role === 'researcher' ? 'Studio' : 'Plataforma'}\n              </Link>\n              <button\n                onClick={handleLogout}\n                className=\"text-sm font-semibold text-white/70 transition hover:text-white\"\n              >\n                Sair\n              </button>\n            </>\n          ) : (\n            <>\n              <Link\n                href=\"/auth/login\"\n                className=\"text-sm font-semibold text-white/70 transition hover:text-white\"\n              >\n                Entrar\n              </Link>\n              <Link\n                href=\"/auth/signup\"\n                className=\"rounded-full bg-white px-4 py-2 text-sm font-semibold text-black transition hover:-translate-y-0.5 hover:bg-white/90\"\n              >\n                Assinar\n              </Link>\n            </>\n          )}\n        </div>\n\n        <button\n          className=\"rounded-full p-2 text-white md:hidden\"\n          onClick={() => setIsMenuOpen((prev) => !prev)}\n          aria-label=\"Abrir menu\"\n          aria-expanded={isMenuOpen}\n        >\n          <svg className=\"h-6 w-6\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n            {isMenuOpen ? (\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            ) : (\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n            )}\n          </svg>\n        </button>\n      </div>\n\n      {isMenuOpen && (\n        <div className=\"border-t border-white/10 bg-black/90 px-4 pb-6 pt-4 md:hidden\">\n          <nav className=\"flex flex-col gap-2\">\n            {navigation.map((item) => (\n              <Link\n                key={`mobile-${item.href}`}\n                href={item.href}\n                onClick={() => setIsMenuOpen(false)}\n                className=\"rounded-2xl bg-white/5 px-4 py-3 text-sm font-semibold text-white transition hover:bg-white/10\"\n              >\n                {item.label}\n              </Link>\n            ))}\n          </nav>\n\n          <div className=\"mt-4 flex flex-col gap-3\">\n            <Link\n              href={editionLink}\n              onClick={() => setIsMenuOpen(false)}\n              className=\"rounded-full border border-white/20 px-4 py-2 text-xs font-semibold uppercase tracking-[0.2em] text-white/80\"\n            >\n              Edição Atual\n            </Link>\n\n            {user ? (\n              <>\n                <Link\n                  href={getDashboardLink()}\n                  onClick={() => setIsMenuOpen(false)}\n                  className=\"rounded-full bg-white px-4 py-2 text-center text-sm font-semibold text-black\"\n                >\n                  Acessar {profile?.role === 'researcher' ? 'Studio' : 'Plataforma'}\n                </Link>\n                <button\n                  onClick={handleLogout}\n                  className=\"rounded-full border border-white/15 px-4 py-2 text-sm font-semibold text-white/80\"\n                >\n                  Sair\n                </button>\n              </>\n            ) : (\n              <>\n                <Link\n                  href=\"/auth/login\"\n                  onClick={() => setIsMenuOpen(false)}\n                  className=\"rounded-full border border-white/20 px-4 py-2 text-center text-sm font-semibold text-white/80\"\n                >\n                  Entrar\n                </Link>\n                <Link\n                  href=\"/auth/signup\"\n                  onClick={() => setIsMenuOpen(false)}\n                  className=\"rounded-full bg-white px-4 py-2 text-center text-sm font-semibold text-black\"\n                >\n                  Assinar\n                </Link>\n              </>\n            )}\n          </div>\n        </div>\n      )}\n    </header>\n  );\n};\n\n"],"names":[],"mappings":"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","debugId":null}}]
}