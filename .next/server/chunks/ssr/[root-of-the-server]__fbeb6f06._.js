module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},60639,(a,b,c)=>{"use strict";b.exports=a.r(94634).vendored.contexts.HooksClientContext},14626,(a,b,c)=>{"use strict";b.exports=a.r(94634).vendored.contexts.ServerInsertedHtml},98264,a=>{"use strict";var b=a.i(27908),c=a.i(8237),d=a.i(69240),e=a.i(4193);function f(){let a=(0,d.createClient)(),f=(0,e.useRouter)(),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)({full_name:"",email:""});(0,c.useEffect)(()=>{m()},[]);let m=async()=>{let{data:{user:b}}=await a.auth.getUser();if(b){let{data:c}=await a.from("profiles").select("*").eq("id",b.id).single();c&&(j(c),l({full_name:c.full_name,email:c.email}))}},n=async b=>{b.preventDefault(),h(!0);let{data:{user:c}}=await a.auth.getUser();if(c){let{error:b}=await a.from("profiles").update({full_name:k.full_name}).eq("id",c.id);b?alert(`Erro: ${b.message}`):(alert("✅ Perfil atualizado com sucesso!"),m())}h(!1)},o=async()=>{await a.auth.signOut(),f.push("/")};return i?(0,b.jsxs)("div",{className:"mx-auto max-w-3xl px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-[color:var(--text-primary)]",children:"Configurações"}),(0,b.jsx)("p",{className:"mt-2 text-[color:var(--text-muted)]",children:"Gerencie suas informações pessoais e preferências"})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-lg border border-[color:var(--border-soft)] bg-white p-6",children:[(0,b.jsx)("h2",{className:"mb-4 text-lg font-semibold text-[color:var(--text-primary)]",children:"Informações do Perfil"}),(0,b.jsxs)("form",{onSubmit:n,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-[color:var(--text-primary)]",children:"Nome Completo"}),(0,b.jsx)("input",{type:"text",value:k.full_name,onChange:a=>l({...k,full_name:a.target.value}),className:"mt-1 w-full rounded-lg border border-[color:var(--border-soft)] bg-white px-4 py-2"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-[color:var(--text-primary)]",children:"Email"}),(0,b.jsx)("input",{type:"email",value:k.email,disabled:!0,className:"mt-1 w-full rounded-lg border border-[color:var(--border-soft)] bg-gray-100 px-4 py-2 text-gray-500"}),(0,b.jsx)("p",{className:"mt-1 text-xs text-[color:var(--text-muted)]",children:"O email não pode ser alterado"})]}),(0,b.jsx)("div",{className:"flex gap-3",children:(0,b.jsx)("button",{type:"submit",disabled:g,className:"rounded-full bg-[color:var(--coral)] px-6 py-2 font-semibold text-white hover:bg-[color:var(--coral)]/90 disabled:opacity-50",children:g?"Salvando...":"Salvar Alterações"})})]})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-[color:var(--border-soft)] bg-white p-6",children:[(0,b.jsx)("h2",{className:"mb-4 text-lg font-semibold text-[color:var(--text-primary)]",children:"Informações da Conta"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-[color:var(--text-muted)]",children:"Tipo de Conta"}),(0,b.jsx)("p",{className:"mt-1 text-lg font-semibold text-[color:var(--text-primary)]",children:"researcher"===i.role?"Pesquisador":"Estudante/Visitante"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-[color:var(--text-muted)]",children:"Plano Atual"}),(0,b.jsx)("p",{className:"mt-1 text-lg font-semibold text-[color:var(--text-primary)]",children:i.subscription_tier.charAt(0).toUpperCase()+i.subscription_tier.slice(1)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-[color:var(--text-muted)]",children:"Membro desde"}),(0,b.jsx)("p",{className:"mt-1 text-lg font-semibold text-[color:var(--text-primary)]",children:new Date(i.created_at).toLocaleDateString("pt-BR")})]})]})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-red-200 bg-red-50 p-6",children:[(0,b.jsx)("h2",{className:"mb-4 text-lg font-semibold text-red-900",children:"Zona de Perigo"}),(0,b.jsx)("button",{onClick:o,className:"rounded-full bg-red-600 px-6 py-2 font-semibold text-white hover:bg-red-700",children:"Sair da Conta"})]})]})]}):(0,b.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-4xl mb-4",children:"⏳"}),(0,b.jsx)("p",{children:"Carregando..."})]})})}a.s(["default",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__fbeb6f06._.js.map