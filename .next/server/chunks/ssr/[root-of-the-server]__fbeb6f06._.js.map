{"version":3,"sources":["turbopack:///[project]/node_modules/.pnpm/next@16.0.2_@babel+core@7.28.5_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/node_modules/.pnpm/next@16.0.2_@babel+core@7.28.5_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/app/platform/settings/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","'use client';\n\nimport { useEffect, useState } from 'react';\nimport { createClient } from '@/lib/supabase/client';\nimport { useRouter } from 'next/navigation';\n\nexport default function SettingsPage() {\n  const supabase = createClient();\n  const router = useRouter();\n  \n  const [isLoading, setIsLoading] = useState(false);\n  const [profile, setProfile] = useState<any>(null);\n  const [formData, setFormData] = useState({\n    full_name: '',\n    email: '',\n  });\n\n  useEffect(() => {\n    loadProfile();\n  }, []);\n\n  const loadProfile = async () => {\n    const { data: { user } } = await supabase.auth.getUser();\n    \n    if (user) {\n      const { data: profileData } = await supabase\n        .from('profiles')\n        .select('*')\n        .eq('id', user.id)\n        .single();\n\n      if (profileData) {\n        setProfile(profileData);\n        setFormData({\n          full_name: profileData.full_name,\n          email: profileData.email,\n        });\n      }\n    }\n  };\n\n  const handleUpdateProfile = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    const { data: { user } } = await supabase.auth.getUser();\n\n    if (user) {\n      const { error } = await supabase\n        .from('profiles')\n        .update({\n          full_name: formData.full_name,\n        })\n        .eq('id', user.id);\n\n      if (error) {\n        alert(`Erro: ${error.message}`);\n      } else {\n        alert('✅ Perfil atualizado com sucesso!');\n        loadProfile();\n      }\n    }\n\n    setIsLoading(false);\n  };\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n    router.push('/');\n  };\n\n  if (!profile) {\n    return (\n      <div className=\"flex items-center justify-center p-12\">\n        <div className=\"text-center\">\n          <div className=\"text-4xl mb-4\">⏳</div>\n          <p>Carregando...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"mx-auto max-w-3xl px-4 py-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-[color:var(--text-primary)]\">\n          Configurações\n        </h1>\n        <p className=\"mt-2 text-[color:var(--text-muted)]\">\n          Gerencie suas informações pessoais e preferências\n        </p>\n      </div>\n\n      {/* Profile Info */}\n      <div className=\"space-y-6\">\n        <div className=\"rounded-lg border border-[color:var(--border-soft)] bg-white p-6\">\n          <h2 className=\"mb-4 text-lg font-semibold text-[color:var(--text-primary)]\">\n            Informações do Perfil\n          </h2>\n\n          <form onSubmit={handleUpdateProfile} className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-[color:var(--text-primary)]\">\n                Nome Completo\n              </label>\n              <input\n                type=\"text\"\n                value={formData.full_name}\n                onChange={(e) => setFormData({ ...formData, full_name: e.target.value })}\n                className=\"mt-1 w-full rounded-lg border border-[color:var(--border-soft)] bg-white px-4 py-2\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-[color:var(--text-primary)]\">\n                Email\n              </label>\n              <input\n                type=\"email\"\n                value={formData.email}\n                disabled\n                className=\"mt-1 w-full rounded-lg border border-[color:var(--border-soft)] bg-gray-100 px-4 py-2 text-gray-500\"\n              />\n              <p className=\"mt-1 text-xs text-[color:var(--text-muted)]\">\n                O email não pode ser alterado\n              </p>\n            </div>\n\n            <div className=\"flex gap-3\">\n              <button\n                type=\"submit\"\n                disabled={isLoading}\n                className=\"rounded-full bg-[color:var(--coral)] px-6 py-2 font-semibold text-white hover:bg-[color:var(--coral)]/90 disabled:opacity-50\"\n              >\n                {isLoading ? 'Salvando...' : 'Salvar Alterações'}\n              </button>\n            </div>\n          </form>\n        </div>\n\n        {/* Account Info */}\n        <div className=\"rounded-lg border border-[color:var(--border-soft)] bg-white p-6\">\n          <h2 className=\"mb-4 text-lg font-semibold text-[color:var(--text-primary)]\">\n            Informações da Conta\n          </h2>\n\n          <div className=\"space-y-4\">\n            <div>\n              <p className=\"text-sm font-medium text-[color:var(--text-muted)]\">\n                Tipo de Conta\n              </p>\n              <p className=\"mt-1 text-lg font-semibold text-[color:var(--text-primary)]\">\n                {profile.role === 'researcher' ? 'Pesquisador' : 'Estudante/Visitante'}\n              </p>\n            </div>\n\n            <div>\n              <p className=\"text-sm font-medium text-[color:var(--text-muted)]\">\n                Plano Atual\n              </p>\n              <p className=\"mt-1 text-lg font-semibold text-[color:var(--text-primary)]\">\n                {profile.subscription_tier.charAt(0).toUpperCase() + profile.subscription_tier.slice(1)}\n              </p>\n            </div>\n\n            <div>\n              <p className=\"text-sm font-medium text-[color:var(--text-muted)]\">\n                Membro desde\n              </p>\n              <p className=\"mt-1 text-lg font-semibold text-[color:var(--text-primary)]\">\n                {new Date(profile.created_at).toLocaleDateString('pt-BR')}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Danger Zone */}\n        <div className=\"rounded-lg border border-red-200 bg-red-50 p-6\">\n          <h2 className=\"mb-4 text-lg font-semibold text-red-900\">\n            Zona de Perigo\n          </h2>\n\n          <button\n            onClick={handleLogout}\n            className=\"rounded-full bg-red-600 px-6 py-2 font-semibold text-white hover:bg-red-700\"\n          >\n            Sair da Conta\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1]}