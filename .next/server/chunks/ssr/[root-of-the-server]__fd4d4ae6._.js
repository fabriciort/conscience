module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(33290))},59579,a=>{a.n(a.i(80955))},86246,a=>{a.n(a.i(19316))},55948,a=>{a.n(a.i(88934))},18691,a=>{a.n(a.i(52466))},68054,a=>{a.n(a.i(35699))},57635,a=>{"use strict";let b=["free","essential","advanced","corporate"];function c(a,c){return b.indexOf(a)>=b.indexOf(c)}function d(a){return({free:"Gratuito",essential:"Essencial",advanced:"AvanÃ§ado",corporate:"Corporate Labs"})[a]}function e(a){return({free:"text-gray-600 bg-gray-100",essential:"text-blue-600 bg-blue-100",advanced:"text-purple-600 bg-purple-100",corporate:"text-amber-600 bg-amber-100"})[a]}a.s(["canAccessContent",()=>c,"getTierColor",()=>e,"getTierDisplayName",()=>d])},2714,a=>{"use strict";var b=a.i(11622),c=a.i(98310);a.i(49482);var d=a.i(52662),e=a.i(28076),f=a.i(57635);async function g({params:a}){let{id:g}=await a,i=await (0,c.createClient)(),{data:{user:j}}=await i.auth.getUser();j||(0,d.redirect)("/auth/login");let{data:k}=await i.from("profiles").select("*").eq("id",j.id).single(),l=k?.subscription_tier||"free",{data:m,error:n}=await i.from("videos").select(`
      *,
      researcher:profiles!researcher_id (
        id,
        full_name,
        avatar_url
      )
    `).eq("id",g).eq("published",!0).single();(n||!m)&&(0,d.notFound)();let o=(0,f.canAccessContent)(l,m.required_tier);return(0,b.jsx)("div",{className:"min-h-screen bg-[color:var(--background)]",children:(0,b.jsx)("div",{className:"mx-auto max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[o?(0,b.jsx)("div",{className:"aspect-video bg-black rounded-xl overflow-hidden",children:(0,b.jsx)("iframe",{src:(a=>{if(a.includes("youtube.com")||a.includes("youtu.be")){let b=a.includes("youtu.be/")?a.split("youtu.be/")[1].split("?")[0]:new URL(a).searchParams.get("v");return`https://www.youtube.com/embed/${b}`}if(a.includes("vimeo.com")){let b=a.split("vimeo.com/")[1].split("?")[0];return`https://player.vimeo.com/video/${b}`}return a})(m.video_url),className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):(0,b.jsx)("div",{className:"relative aspect-video bg-[color:var(--surface)] rounded-xl overflow-hidden border border-[color:var(--border)]",children:(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center backdrop-blur-md bg-black/60",children:(0,b.jsxs)("div",{className:"text-center max-w-md px-6",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ”’"}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-white mb-3",children:"Upgrade to Access"}),(0,b.jsxs)("p",{className:"text-white/80 mb-6",children:["This video requires a ",h(m.required_tier)," subscription or higher."]}),(0,b.jsx)(e.default,{href:"/pricing",className:"inline-block px-8 py-3 bg-gradient-to-r from-[color:var(--primary)] to-[color:var(--accent)] text-white font-semibold rounded-lg hover:opacity-90 transition-opacity",children:"View Plans"})]})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-[color:var(--text-primary)] mb-4",children:m.title}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,b.jsxs)(e.default,{href:`/platform/researchers/${m.researcher?.id}`,className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[color:var(--primary)] to-[color:var(--accent)] flex items-center justify-center text-lg font-semibold text-white",children:m.researcher?.full_name.charAt(0).toUpperCase()}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-[color:var(--text-primary)]",children:m.researcher?.full_name}),(0,b.jsx)("p",{className:"text-sm text-[color:var(--text-secondary)]",children:"Researcher"})]})]}),(0,b.jsxs)("div",{className:"ml-auto flex items-center gap-4",children:[(0,b.jsxs)("span",{className:"text-sm text-[color:var(--text-secondary)]",children:[m.view_count||0," views"]}),(0,b.jsx)("span",{className:`px-3 py-1.5 rounded-lg text-sm font-semibold ${{free:"bg-gray-500/10 text-gray-400",essential:"bg-purple-500/10 text-purple-400",advanced:"bg-rose-500/10 text-rose-400",corporate:"bg-amber-500/10 text-amber-400"}[m.required_tier]||"bg-gray-500/10 text-gray-400"}`,children:h(m.required_tier)})]})]}),m.description&&(0,b.jsxs)("div",{className:"bg-[color:var(--surface)] rounded-xl border border-[color:var(--border)] p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-[color:var(--text-primary)] mb-3",children:"About"}),(0,b.jsx)("p",{className:"text-[color:var(--text-secondary)] whitespace-pre-wrap",children:m.description})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[m.tags&&m.tags.length>0&&(0,b.jsxs)("div",{className:"bg-[color:var(--surface)] rounded-xl border border-[color:var(--border)] p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-[color:var(--text-primary)] mb-3",children:"Tags"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:m.tags.map(a=>(0,b.jsx)("span",{className:"px-3 py-1.5 bg-[color:var(--surface-hover)] rounded-lg text-sm text-[color:var(--text-secondary)]",children:a},a))})]}),!o&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[color:var(--primary)] to-[color:var(--accent)] rounded-xl p-6 text-white",children:[(0,b.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Want full access?"}),(0,b.jsx)("p",{className:"text-white/90 text-sm mb-4",children:"Upgrade your plan to unlock this content and more."}),(0,b.jsx)(e.default,{href:"/pricing",className:"block text-center px-6 py-3 bg-white text-[color:var(--primary)] font-semibold rounded-lg hover:bg-white/90 transition-colors",children:"Upgrade Now"})]})]})]})})})}function h(a){return({free:"Free",essential:"Essential",advanced:"Advanced",corporate:"Corporate"})[a]||a}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__fd4d4ae6._.js.map