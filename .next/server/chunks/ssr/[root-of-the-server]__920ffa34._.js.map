{"version":3,"sources":["turbopack:///[project]/app/studio/dashboard/page.tsx"],"sourcesContent":["import { createClient } from '@/lib/supabase/server';\nimport Link from 'next/link';\nimport type { Video, Post } from '@/lib/supabase/types';\n\nexport default async function StudioDashboardPage() {\n  const supabase = await createClient();\n  const { data: { user } } = await supabase.auth.getUser();\n\n  if (!user) {\n    return null;\n  }\n\n  // Fetch researcher's videos\n  const { data: videos } = await supabase\n    .from('videos')\n    .select('*')\n    .eq('researcher_id', user.id)\n    .order('created_at', { ascending: false })\n    .limit(5) as { data: Video[] | null };\n\n  // Fetch researcher's posts\n  const { data: posts } = await supabase\n    .from('posts')\n    .select('*')\n    .eq('researcher_id', user.id)\n    .order('created_at', { ascending: false })\n    .limit(5) as { data: Post[] | null };\n\n  // Calculate stats\n  const totalVideos = videos?.length || 0;\n  const totalPosts = posts?.length || 0;\n  const totalViews = videos?.reduce((sum, v) => sum + (v.view_count || 0), 0) || 0;\n  const totalReads = posts?.reduce((sum, p) => sum + (p.read_count || 0), 0) || 0;\n  const publishedVideos = videos?.filter((v) => v.published).length || 0;\n  const publishedPosts = posts?.filter((p) => p.published).length || 0;\n\n  return (\n    <div className=\"max-w-[1400px] mx-auto\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-[color:var(--text-primary)] mb-2\">\n          Dashboard\n        </h1>\n        <p className=\"text-[color:var(--text-secondary)]\">\n          Welcome back! Here's an overview of your content.\n        </p>\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n        <StatCard\n          icon=\"üé¨\"\n          label=\"Total Videos\"\n          value={totalVideos}\n          subtitle={`${publishedVideos} published`}\n          gradient=\"from-blue-500 to-cyan-500\"\n        />\n        <StatCard\n          icon=\"üìù\"\n          label=\"Total Articles\"\n          value={totalPosts}\n          subtitle={`${publishedPosts} published`}\n          gradient=\"from-purple-500 to-pink-500\"\n        />\n        <StatCard\n          icon=\"üëÅÔ∏è\"\n          label=\"Total Views\"\n          value={totalViews}\n          subtitle=\"All time\"\n          gradient=\"from-green-500 to-emerald-500\"\n        />\n        <StatCard\n          icon=\"üìñ\"\n          label=\"Total Reads\"\n          value={totalReads}\n          subtitle=\"All time\"\n          gradient=\"from-orange-500 to-red-500\"\n        />\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\n        <Link\n          href=\"/studio/videos/new\"\n          className=\"group relative overflow-hidden bg-gradient-to-br from-[color:var(--primary)] to-[color:var(--accent)] rounded-xl p-6 hover:shadow-xl hover:shadow-[color:var(--primary)]/20 transition-all\"\n        >\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl mb-3\">üé•</div>\n            <h3 className=\"text-xl font-bold text-white mb-2\">\n              Create New Video\n            </h3>\n            <p className=\"text-white/80 text-sm\">\n              Share your knowledge with video content\n            </p>\n          </div>\n          <div className=\"absolute inset-0 bg-gradient-to-br from-white/0 to-white/10 opacity-0 group-hover:opacity-100 transition-opacity\"></div>\n        </Link>\n\n        <Link\n          href=\"/studio/posts/new\"\n          className=\"group relative overflow-hidden bg-gradient-to-br from-[color:var(--accent)] to-purple-600 rounded-xl p-6 hover:shadow-xl hover:shadow-[color:var(--accent)]/20 transition-all\"\n        >\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl mb-3\">‚úçÔ∏è</div>\n            <h3 className=\"text-xl font-bold text-white mb-2\">\n              Write New Article\n            </h3>\n            <p className=\"text-white/80 text-sm\">\n              Create in-depth articles and tutorials\n            </p>\n          </div>\n          <div className=\"absolute inset-0 bg-gradient-to-br from-white/0 to-white/10 opacity-0 group-hover:opacity-100 transition-opacity\"></div>\n        </Link>\n      </div>\n\n      {/* Recent Content */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Recent Videos */}\n        <div className=\"bg-[color:var(--surface)] rounded-xl border border-[color:var(--border)] p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-semibold text-[color:var(--text-primary)]\">\n              Recent Videos\n            </h2>\n            <Link\n              href=\"/studio/videos\"\n              className=\"text-sm text-[color:var(--primary)] hover:text-[color:var(--primary-hover)] font-medium\"\n            >\n              View all ‚Üí\n            </Link>\n          </div>\n\n          {videos && videos.length > 0 ? (\n            <div className=\"space-y-3\">\n              {videos.map((video) => (\n                <div\n                  key={video.id}\n                  className=\"flex items-start gap-3 p-3 rounded-lg hover:bg-[color:var(--surface-hover)] transition-colors\"\n                >\n                  <div className=\"flex-shrink-0 w-12 h-12 bg-[color:var(--surface-hover)] rounded-lg flex items-center justify-center text-xl\">\n                    üé¨\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <h3 className=\"text-sm font-medium text-[color:var(--text-primary)] truncate\">\n                      {video.title}\n                    </h3>\n                    <div className=\"flex items-center gap-3 mt-1\">\n                      <span className=\"text-xs text-[color:var(--text-muted)]\">\n                        {video.view_count || 0} views\n                      </span>\n                      <span\n                        className={`text-xs px-2 py-0.5 rounded ${\n                          video.published\n                            ? 'bg-green-500/10 text-green-500'\n                            : 'bg-yellow-500/10 text-yellow-500'\n                        }`}\n                      >\n                        {video.published ? 'Published' : 'Draft'}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-8\">\n              <div className=\"text-4xl mb-2\">üé•</div>\n              <p className=\"text-sm text-[color:var(--text-secondary)]\">\n                No videos yet. Create your first one!\n              </p>\n            </div>\n          )}\n        </div>\n\n        {/* Recent Posts */}\n        <div className=\"bg-[color:var(--surface)] rounded-xl border border-[color:var(--border)] p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-semibold text-[color:var(--text-primary)]\">\n              Recent Articles\n            </h2>\n            <Link\n              href=\"/studio/posts\"\n              className=\"text-sm text-[color:var(--primary)] hover:text-[color:var(--primary-hover)] font-medium\"\n            >\n              View all ‚Üí\n            </Link>\n          </div>\n\n          {posts && posts.length > 0 ? (\n            <div className=\"space-y-3\">\n              {posts.map((post) => (\n                <div\n                  key={post.id}\n                  className=\"flex items-start gap-3 p-3 rounded-lg hover:bg-[color:var(--surface-hover)] transition-colors\"\n                >\n                  <div className=\"flex-shrink-0 w-12 h-12 bg-[color:var(--surface-hover)] rounded-lg flex items-center justify-center text-xl\">\n                    üìù\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <h3 className=\"text-sm font-medium text-[color:var(--text-primary)] truncate\">\n                      {post.title}\n                    </h3>\n                    <div className=\"flex items-center gap-3 mt-1\">\n                      <span className=\"text-xs text-[color:var(--text-muted)]\">\n                        {post.read_count || 0} reads\n                      </span>\n                      <span\n                        className={`text-xs px-2 py-0.5 rounded ${\n                          post.published\n                            ? 'bg-green-500/10 text-green-500'\n                            : 'bg-yellow-500/10 text-yellow-500'\n                        }`}\n                      >\n                        {post.published ? 'Published' : 'Draft'}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-8\">\n              <div className=\"text-4xl mb-2\">üìù</div>\n              <p className=\"text-sm text-[color:var(--text-secondary)]\">\n                No articles yet. Write your first one!\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction StatCard({\n  icon,\n  label,\n  value,\n  subtitle,\n  gradient,\n}: {\n  icon: string;\n  label: string;\n  value: number;\n  subtitle: string;\n  gradient: string;\n}) {\n  return (\n    <div className=\"relative overflow-hidden bg-[color:var(--surface)] rounded-xl border border-[color:var(--border)] p-6 hover:border-[color:var(--border-hover)] transition-colors\">\n      <div className=\"flex items-start justify-between mb-4\">\n        <div className={`text-3xl p-3 rounded-lg bg-gradient-to-br ${gradient}`}>\n          {icon}\n        </div>\n      </div>\n      <div>\n        <p className=\"text-sm font-medium text-[color:var(--text-secondary)] mb-1\">\n          {label}\n        </p>\n        <p className=\"text-3xl font-bold text-[color:var(--text-primary)] mb-1\">\n          {value}\n        </p>\n        <p className=\"text-xs text-[color:var(--text-muted)]\">{subtitle}</p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}