module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},60639,(a,b,c)=>{"use strict";b.exports=a.r(94634).vendored.contexts.HooksClientContext},14626,(a,b,c)=>{"use strict";b.exports=a.r(94634).vendored.contexts.ServerInsertedHtml},5164,a=>{"use strict";var b=a.i(27908),c=a.i(8237),d=a.i(69240),e=a.i(4193);function f(){let a=(0,e.useRouter)(),f=(0,d.createClient)(),[g,h]=(0,c.useState)({title:"",excerpt:"",content:"",cover_image_url:"",required_tier:"free",tags:"",published:!1}),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(""),m=async b=>{b.preventDefault(),j(!0),l("");try{let{data:{user:b}}=await f.auth.getUser();if(!b)throw Error("Not authenticated");let c=g.tags.split(",").map(a=>a.trim()).filter(a=>a.length>0),d=g.title.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),{error:e}=await f.from("posts").insert({researcher_id:b.id,title:g.title,slug:d,excerpt:g.excerpt||null,content:g.content,cover_image_url:g.cover_image_url||null,required_tier:g.required_tier,tags:c.length>0?c:null,published:g.published,published_at:g.published?new Date().toISOString():null});if(e)throw e;a.push("/studio/posts")}catch(a){l(a.message),j(!1)}};return(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-[color:var(--text-primary)] mb-2",children:"Write New Article"}),(0,b.jsx)("p",{className:"text-[color:var(--text-secondary)]",children:"Share your knowledge through written content"})]}),k&&(0,b.jsx)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500 text-sm",children:k}),(0,b.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-[color:var(--surface)] rounded-xl border border-[color:var(--border)] p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-[color:var(--text-primary)] mb-2",children:"Title *"}),(0,b.jsx)("input",{type:"text",value:g.title,onChange:a=>h({...g,title:a.target.value}),required:!0,className:"w-full px-4 py-3 bg-[color:var(--background)] border border-[color:var(--border)] rounded-lg text-[color:var(--text-primary)] placeholder:text-[color:var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[color:var(--primary)] transition-colors",placeholder:"Enter article title"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-[color:var(--text-primary)] mb-2",children:"Excerpt"}),(0,b.jsx)("textarea",{value:g.excerpt,onChange:a=>h({...g,excerpt:a.target.value}),rows:3,className:"w-full px-4 py-3 bg-[color:var(--background)] border border-[color:var(--border)] rounded-lg text-[color:var(--text-primary)] placeholder:text-[color:var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[color:var(--primary)] transition-colors resize-none",placeholder:"Short summary (shown in previews)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-[color:var(--text-primary)] mb-2",children:"Content * (Markdown supported)"}),(0,b.jsx)("textarea",{value:g.content,onChange:a=>h({...g,content:a.target.value}),required:!0,rows:15,className:"w-full px-4 py-3 bg-[color:var(--background)] border border-[color:var(--border)] rounded-lg text-[color:var(--text-primary)] placeholder:text-[color:var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[color:var(--primary)] transition-colors resize-none font-mono text-sm",placeholder:"# Your article content here..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-[color:var(--text-primary)] mb-2",children:"Cover Image URL"}),(0,b.jsx)("input",{type:"url",value:g.cover_image_url,onChange:a=>h({...g,cover_image_url:a.target.value}),className:"w-full px-4 py-3 bg-[color:var(--background)] border border-[color:var(--border)] rounded-lg text-[color:var(--text-primary)] placeholder:text-[color:var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[color:var(--primary)] transition-colors",placeholder:"https://example.com/cover.jpg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-[color:var(--text-primary)] mb-2",children:"Required Tier *"}),(0,b.jsxs)("select",{value:g.required_tier,onChange:a=>h({...g,required_tier:a.target.value}),className:"w-full px-4 py-3 bg-[color:var(--background)] border border-[color:var(--border)] rounded-lg text-[color:var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[color:var(--primary)] transition-colors",children:[(0,b.jsx)("option",{value:"free",children:"Free"}),(0,b.jsx)("option",{value:"essential",children:"Essential"}),(0,b.jsx)("option",{value:"advanced",children:"Advanced"}),(0,b.jsx)("option",{value:"corporate",children:"Corporate"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-[color:var(--text-primary)] mb-2",children:"Tags (comma-separated)"}),(0,b.jsx)("input",{type:"text",value:g.tags,onChange:a=>h({...g,tags:a.target.value}),className:"w-full px-4 py-3 bg-[color:var(--background)] border border-[color:var(--border)] rounded-lg text-[color:var(--text-primary)] placeholder:text-[color:var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[color:var(--primary)] transition-colors",placeholder:"tutorial, beginner, python"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"checkbox",id:"published",checked:g.published,onChange:a=>h({...g,published:a.target.checked}),className:"w-5 h-5 rounded border-[color:var(--border)] bg-[color:var(--background)] text-[color:var(--primary)] focus:ring-2 focus:ring-[color:var(--primary)] focus:ring-offset-0"}),(0,b.jsx)("label",{htmlFor:"published",className:"text-sm font-medium text-[color:var(--text-primary)] cursor-pointer",children:"Publish immediately"})]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{type:"submit",disabled:i,className:"flex-1 px-6 py-3 bg-gradient-to-r from-[color:var(--primary)] to-[color:var(--accent)] text-white font-semibold rounded-lg hover:opacity-90 disabled:opacity-50 transition-opacity",children:i?"Creating...":"Create Article"}),(0,b.jsx)("button",{type:"button",onClick:()=>a.back(),className:"px-6 py-3 bg-[color:var(--surface)] border border-[color:var(--border)] text-[color:var(--text-primary)] font-semibold rounded-lg hover:bg-[color:var(--surface-hover)] transition-colors",children:"Cancel"})]})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__54719e73._.js.map