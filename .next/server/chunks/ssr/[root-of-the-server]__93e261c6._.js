module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},94634,(a,b,c)=>{"use strict";b.exports=a.r(18622)},27908,(a,b,c)=>{"use strict";b.exports=a.r(94634).vendored["react-ssr"].ReactJsxRuntime},8237,(a,b,c)=>{"use strict";b.exports=a.r(94634).vendored["react-ssr"].React},99993,a=>{"use strict";var b=a.i(27908),c=a.i(8237),d=a.i(69240);let e=(0,c.createContext)(void 0);function f({children:a}){let{user:f,profile:g,loading:h}=function(){let[a,b]=(0,c.useState)(null),[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0),i=(0,d.createClient)();return(0,c.useEffect)(()=>{(async()=>{let{data:{user:a}}=await i.auth.getUser();if(b(a),a){let{data:b}=await i.from("profiles").select(`
            *,
            researcher_profile:researcher_profiles(*)
          `).eq("id",a.id).single();f(b)}h(!1)})();let{data:{subscription:a}}=i.auth.onAuthStateChange(async(a,c)=>{if(b(c?.user??null),c?.user){let{data:a}=await i.from("profiles").select(`
            *,
            researcher_profile:researcher_profiles(*)
          `).eq("id",c.user.id).single();f(a)}else f(null);h(!1)});return()=>a.unsubscribe()},[i]),{user:a,profile:e,loading:g}}(),{tier:i,loading:j}=function(a){let[b,e]=(0,c.useState)("free"),[f,g]=(0,c.useState)(!0),h=(0,d.createClient)();return(0,c.useEffect)(()=>{a?(async()=>{let{data:b}=await h.from("profiles").select("subscription_tier").eq("id",a).single();b&&e(b.subscription_tier),g(!1)})():g(!1)},[a,h]),{tier:b,loading:f}}(f?.id),k={user:f,profile:g,tier:i,loading:h||j,isResearcher:g?.role==="researcher"||g?.role==="admin",isViewer:g?.role==="viewer",isAdmin:g?.role==="admin"};return(0,b.jsx)(e.Provider,{value:k,children:a})}function g(){let a=(0,c.useContext)(e);if(void 0===a)throw Error("useUserContext must be used within a UserProvider");return a}a.s(["UserProvider",()=>f,"useUserContext",()=>g],99993)},73532,a=>{"use strict";var b=a.i(27908),c=a.i(8237),d=a.i(69240),e=a.i(99993);let f="viewer@test.com",g="premium@test.com",h="researcher@test.com";async function i(a,b){return console.warn("devMockSubscription should only be used in development"),{data:null,error:Error("Not in development mode")}}function j(){let[a,b]=(0,c.useState)(!1),{user:f,profile:g,tier:h}=(0,e.useUserContext)(),i=(0,d.createClient)();1;return null}a.s(["DevToolbar",()=>j],73532)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__93e261c6._.js.map